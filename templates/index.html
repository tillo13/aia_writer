<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIA â€” AI Article Writer</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âœ¨</text></svg>">
</head>
<body>
    <div class="container">
        <header class="hero">
            <h1>AIA</h1>
            <p class="subtitle">Transform any topic into articles that sound like you</p>
        </header>

        <form id="mainForm">
            <!-- Step 1: Topic -->
            <div class="card fade-in" id="step1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-title">Choose your topic</div>
                </div>
                <div class="topics">
                    {% for key, label in topics.items() %}
                    <label class="topic-pill">
                        <input type="radio" name="topic" value="{{ key }}">
                        <span>{{ key|title }}</span>
                    </label>
                    {% endfor %}
                    <label class="topic-pill">
                        <input type="radio" name="topic" value="custom">
                        <span>Custom âœ¦</span>
                    </label>
                </div>
                <input type="text" id="customTopic" name="custom_topic" placeholder="e.g., servicenow merger, openai drama..." class="hidden">
                <div class="text-center mt-4">
                    <button type="button" class="btn btn-primary" onclick="nextStep()">Continue</button>
                </div>
            </div>

            <!-- Step 2: Upload -->
            <div class="card fade-in hidden" id="step2">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title">Upload your writing samples</div>
                </div>
                <div class="upload-zone" id="dropZone">
                    <div class="upload-icon">ðŸ“„</div>
                    <p class="upload-text"><strong>Drop files here</strong> or click to browse</p>
                    <p class="upload-text" style="font-size: 0.8rem; margin-top: 8px;">PDF, TXT, MD, DOC â€” 2-5 samples work best</p>
                </div>
                <input type="file" name="files" id="files" class="file-input" multiple accept=".pdf,.txt,.md,.doc,.docx">
                <div class="file-list" id="fileList"></div>
                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary">Generate Articles âœ¨</button>
                </div>
            </div>
        </form>

        <!-- Loading -->
        <div class="card hidden" id="loading">
            <div class="loading-container">
                <div class="loader"></div>
                <p class="loading-text" id="loadingText">Searching the web...</p>
                <p class="loading-subtext" id="loadingSubtext">Finding the freshest stories on your topic</p>
                <div class="progress-dots">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
        </div>

        <!-- Results -->
        <div id="results" class="hidden">
            <div class="step-header" style="margin-bottom: 24px;">
                <div class="step-number">âœ“</div>
                <div class="step-title">Your articles are ready</div>
            </div>
            <div id="articles"></div>
            <div class="text-center mt-4">
                <button type="button" class="btn btn-secondary" onclick="reset()">Start Over</button>
            </div>
        </div>

        <!-- Error -->
        <div class="error-card hidden" id="error"></div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
